============================= test session starts ==============================
platform darwin -- Python 3.12.12, pytest-9.0.2, pluggy-1.6.0
rootdir: /Users/annhoward/src/solarpunk_utopia
plugins: anyio-4.12.0, asyncio-1.3.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 295 items

tests/e2e/test_ancestor_voting_e2e.py ...........                        [  3%]
tests/e2e/test_bakunin_analytics_e2e.py ......                           [  5%]
tests/e2e/test_blocking_silent_failure_e2e.py ..........                 [  9%]
tests/e2e/test_cross_community_discovery_e2e.py .....F..F.F              [ 12%]
tests/e2e/test_dtn_mesh_sync_e2e.py .........                            [ 15%]
tests/e2e/test_governance_complete_flow.py .                             [ 16%]
tests/e2e/test_governance_e2e.py ..........                              [ 19%]
tests/e2e/test_mycelial_strike_e2e.py .........F                         [ 23%]
tests/e2e/test_rapid_response_e2e.py FFFFFF                              [ 25%]
tests/e2e/test_sanctuary_network_e2e.py ......                           [ 27%]
tests/e2e/test_saturnalia_e2e.py ..............                          [ 31%]
tests/e2e/test_web_of_trust_e2e.py ..........                            [ 35%]
tests/integration/test_end_to_end_gift_economy.py FFF                    [ 36%]
tests/integration/test_knowledge_distribution.py FF                      [ 36%]
tests/test_algorithmic_transparency.py .............                     [ 41%]
tests/test_api_endpoint_fixes.py ..FF..........F.                        [ 46%]
tests/test_care_outreach.py EEEEEEEEEEEE                                 [ 50%]
tests/test_economic_withdrawal.py FFFF..FF                               [ 53%]
tests/test_fork_rights.py ..........F.                                   [ 57%]
tests/test_fraud_abuse_protections.py .......FFFF.                       [ 61%]
tests/test_governance_silence_weight.py ...............F....             [ 68%]
tests/test_harness.py .........FFFFF...F.....                            [ 76%]
tests/test_network_import_offline.py ........                            [ 78%]
tests/test_panic_features.py ..............                              [ 83%]
tests/test_sanctuary_multi_steward_verification.py ......FF..........    [ 89%]
tests/unit/test_bundle_service.py FFFFFFFFF.FFFF..                       [ 95%]
tests/unit/test_web_of_trust.py ..............                           [100%]

=============================== warnings summary ===============================
venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:295: 39 warnings
tests/test_api_endpoint_fixes.py: 12 warnings
  /Users/annhoward/src/solarpunk_utopia/venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:295: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

tests/e2e/test_rapid_response_e2e.py: 6 warnings
tests/e2e/test_sanctuary_network_e2e.py: 28 warnings
tests/test_sanctuary_multi_steward_verification.py: 73 warnings
  /Users/annhoward/src/solarpunk_utopia/venv/lib/python3.12/site-packages/pydantic/main.py:214: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)

tests/test_api_endpoint_fixes.py::TestProposalRejection::test_reject_proposal_has_auth_dependency
tests/test_api_endpoint_fixes.py::TestProposalRejection::test_reject_proposal_has_auth_dependency
tests/test_api_endpoint_fixes.py::test_commitments_router_registered
tests/test_api_endpoint_fixes.py::test_commitments_router_registered
  /Users/annhoward/src/solarpunk_utopia/venv/lib/python3.12/site-packages/pydantic/_internal/_generate_schema.py:297: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.10/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/
    warnings.warn(

tests/test_governance_silence_weight.py::TestPrivacyGuarantees::test_silent_voters_computed_not_stored
  tests/test_governance_silence_weight.py:415: PytestWarning: The test <Function test_silent_voters_computed_not_stored> is marked with '@pytest.mark.asyncio' but it is not an async function. Please remove the asyncio mark. If the test is not marked explicitly, check for global marks applied via 'pytestmark'.
    def test_silent_voters_computed_not_stored(self):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/e2e/test_cross_community_discovery_e2e.py::TestCrossCommunityDiscoveryE2E::test_blocking_overrides_visibility
FAILED tests/e2e/test_cross_community_discovery_e2e.py::TestCrossCommunityDiscoveryE2E::test_public_vs_regional_audience
FAILED tests/e2e/test_cross_community_discovery_e2e.py::TestCrossCommunityDiscoveryE2E::test_visibility_respects_individual_choice
FAILED tests/e2e/test_mycelial_strike_e2e.py::TestMycelialStrikeE2E::test_time_based_alert_expiration
FAILED tests/e2e/test_rapid_response_e2e.py::TestRapidResponseE2E::test_full_rapid_response_flow
FAILED tests/e2e/test_rapid_response_e2e.py::TestRapidResponseE2E::test_critical_alert_requires_high_trust
FAILED tests/e2e/test_rapid_response_e2e.py::TestRapidResponseE2E::test_critical_alert_auto_downgrade_if_unconfirmed
FAILED tests/e2e/test_rapid_response_e2e.py::TestRapidResponseE2E::test_alert_propagation_priority
FAILED tests/e2e/test_rapid_response_e2e.py::TestRapidResponseE2E::test_alert_purge_after_24_hours
FAILED tests/e2e/test_rapid_response_e2e.py::TestRapidResponseE2E::test_responder_coordination_flow
FAILED tests/integration/test_end_to_end_gift_economy.py::TestGiftEconomyFlow::test_complete_offer_need_exchange_flow
FAILED tests/integration/test_end_to_end_gift_economy.py::TestGiftEconomyFlow::test_bundle_propagation_across_services
FAILED tests/integration/test_end_to_end_gift_economy.py::TestGiftEconomyFlow::test_agent_proposals_require_approval
FAILED tests/integration/test_knowledge_distribution.py::TestKnowledgeDistribution::test_complete_file_distribution_flow
FAILED tests/integration/test_knowledge_distribution.py::TestKnowledgeDistribution::test_library_node_caching
FAILED tests/test_api_endpoint_fixes.py::TestMatchAcceptReject::test_accept_match_updates_status
FAILED tests/test_api_endpoint_fixes.py::TestMatchAcceptReject::test_reject_match_updates_status
FAILED tests/test_api_endpoint_fixes.py::TestProposalRejection::test_reject_proposal_uses_current_user_id
FAILED tests/test_economic_withdrawal.py::test_create_campaign - AttributeErr...
FAILED tests/test_economic_withdrawal.py::test_pledge_to_campaign - Attribute...
FAILED tests/test_economic_withdrawal.py::test_campaign_activation - Attribut...
FAILED tests/test_economic_withdrawal.py::test_mark_avoided_target - Attribut...
FAILED tests/test_economic_withdrawal.py::test_bulk_buy_creation - AttributeE...
FAILED tests/test_economic_withdrawal.py::test_bulk_buy_commitment - Attribut...
FAILED tests/test_fork_rights.py::test_local_first_export - sqlite3.Operation...
FAILED tests/test_fraud_abuse_protections.py::TestSanctuaryVerification::test_verification_requires_min_stewards
FAILED tests/test_fraud_abuse_protections.py::TestSanctuaryVerification::test_verification_valid_with_min_stewards
FAILED tests/test_fraud_abuse_protections.py::TestSanctuaryVerification::test_verification_expires_after_90_days
FAILED tests/test_fraud_abuse_protections.py::TestSanctuaryVerification::test_high_trust_requires_successful_uses
FAILED tests/test_governance_silence_weight.py::TestGovernanceRepository::test_outreach_ephemeral
FAILED tests/test_harness.py::TestTimeControl::test_freeze_time - TypeError: ...
FAILED tests/test_harness.py::TestTimeControl::test_advance_time - TypeError:...
FAILED tests/test_harness.py::TestTimeControl::test_advance_with_units - Type...
FAILED tests/test_harness.py::TestTimeControl::test_freeze_time_context_manager
FAILED tests/test_harness.py::TestTimeControl::test_advance_time_context_manager
FAILED tests/test_harness.py::TestTrustGraphFixtures::test_revoke_vouch - Ass...
FAILED tests/test_sanctuary_multi_steward_verification.py::TestResourcesNeedingVerification::test_pending_verification_list
FAILED tests/test_sanctuary_multi_steward_verification.py::TestResourcesNeedingVerification::test_pending_excludes_steward_who_verified
FAILED tests/unit/test_bundle_service.py::TestBundleCreation::test_create_simple_bundle
FAILED tests/unit/test_bundle_service.py::TestBundleCreation::test_create_bundle_with_ttl_hours
FAILED tests/unit/test_bundle_service.py::TestBundleCreation::test_create_bundle_auto_ttl
FAILED tests/unit/test_bundle_service.py::TestBundleCreation::test_create_bundle_with_tags
FAILED tests/unit/test_bundle_service.py::TestBundleCreation::test_bundle_id_is_content_addressed
FAILED tests/unit/test_bundle_service.py::TestBundleValidation::test_validate_valid_bundle
FAILED tests/unit/test_bundle_service.py::TestBundleValidation::test_reject_tampered_payload
FAILED tests/unit/test_bundle_service.py::TestBundleValidation::test_reject_expired_bundle
FAILED tests/unit/test_bundle_service.py::TestBundleValidation::test_reject_invalid_signature
FAILED tests/unit/test_bundle_service.py::TestBundleReceiving::test_receive_valid_bundle
FAILED tests/unit/test_bundle_service.py::TestBundleReceiving::test_reject_duplicate_bundle
FAILED tests/unit/test_bundle_service.py::TestBundleReceiving::test_quarantine_invalid_bundle
FAILED tests/unit/test_bundle_service.py::TestBundleProperties::test_bundle_snake_case_aliases
ERROR tests/test_care_outreach.py::TestVolunteerManagement::test_register_volunteer
ERROR tests/test_care_outreach.py::TestVolunteerManagement::test_find_available_volunteer
ERROR tests/test_care_outreach.py::TestOutreachAssignment::test_flag_for_outreach
ERROR tests/test_care_outreach.py::TestOutreachAssignment::test_add_outreach_note
ERROR tests/test_care_outreach.py::TestOutreachAssignment::test_mark_converted
ERROR tests/test_care_outreach.py::TestNeedsAssessment::test_assess_and_provide
ERROR tests/test_care_outreach.py::TestAccessLevels::test_access_level_receiving_care
ERROR tests/test_care_outreach.py::TestAccessLevels::test_access_permissions_minimal_but_human
ERROR tests/test_care_outreach.py::TestSuspectedInfiltrator::test_handle_suspected_infiltrator
ERROR tests/test_care_outreach.py::TestConversionMetrics::test_get_metrics - ...
ERROR tests/test_care_outreach.py::TestConversionExperiences::test_suggest_experience_for_new_outreach
ERROR tests/test_care_outreach.py::TestConversionExperiences::test_get_all_experiences
=========== 51 failed, 232 passed, 163 warnings, 12 errors in 5.87s ============
